

<div
class=" mt-4 p-4 border-2 border-gray-200  rounded-lg dark:border-gray-700 " 
>

<div class="hey flex mb-3 justify-start relative ">
<!-- radio de brigada -->
<button id="dropdownHelperRadioButton" data-dropdown-toggle="dropdownHelperRadio" class=" w-48 ml-4 text-white bg-blue-700 hover:bg-blue-800 focu0s:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-4 py-2.5 text-center inline-flex items-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800" 
type="button">{{nombreBrigada}} <svg class=" w-2.5 h-2.5 ms-2.5" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 10 6">
<path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m1 1 4 4 4-4"/>
</svg></button>

<div class="mb-4 ">
<div id="dropdownHelperRadio" class="jarto z-10  hidden  bg-white divide-y divide-gray-100 rounded-lg shadow w-48 dark:bg-gray-700 dark:divide-gray-600" data-popper-reference-hidden="" data-popper-escaped="" data-popper-placement="top" >
  <ul class="p-3 space-y-1 text-sm text-gray-700 dark:text-gray-200" aria-labelledby="dropdownHelperRadioButton">
    <li *ngFor="let option of options">
      <div class="flex p-2 rounded hover:bg-gray-100 dark:hover:bg-gray-600">
        <div class="flex items-center h-5">
          <input
            id="{{ option.id }}"
            name="helper-radio"
            type="radio"
            [value]="option.value"
            [(ngModel)]="selectedBrigada"
            (ngModelChange)="clickedFiltro()"
            class="w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-700 dark:focus:ring-offset-gray-700 focus:ring-2 dark:bg-gray-600 dark:border-gray-500"
          />
        </div>
        <div class="ms-2 text-sm">
          <label for="{{ option.id }}" class="font-medium text-gray-900 dark:text-gray-300">
            <div>{{ option.label }}</div>
          </label>
        </div>
      </div>
    </li>
  </ul>
</div>

</div>

<!-- radio de consumo -->

<button id="ordenButton" data-dropdown-toggle="orden" class="  w-48  ml-4 text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-4 py-2.5 text-center inline-flex items-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800" 
type="button">Orden <svg class=" w-2.5 h-2.5 ms-2.5  ml-4" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 10 6">
<path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m1 1 4 4 4-4"/>
</svg></button>

<div class="mb-4 ">
<div id="orden" class=" z-10  jarto2 hidden w-48   bg-white divide-y divide-gray-100 rounded-lg shadow  dark:bg-gray-700 dark:divide-gray-600" data-popper-reference-hidden="" data-popper-escaped="" data-popper-placement="top" >
<ul class="p-3 space-y-1 text-sm text-gray-700 dark:text-gray-200" aria-labelledby="ordenButton">
  <li *ngFor="let orden of ordens">
    <div class="flex p-2 rounded hover:bg-gray-100 dark:hover:bg-gray-600">
      <div class="flex items-center h-5">
        <input
          id="{{ orden.id }}"
          name="{{orden.id}}"
          type="radio"
          [value]="orden.value"
          [(ngModel)]="selectedOrden"
          (ngModelChange)="clickedFiltro();"
          class="w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-700 dark:focus:ring-offset-gray-700 focus:ring-2 dark:bg-gray-600 dark:border-gray-500"
        />
      </div>
      <div class="ms-2 text-sm">
        <label for="{{ orden.id }}" class="font-medium text-gray-900 dark:text-gray-300">
          <div>{{ orden.label }}</div>
        </label>
      </div>
    </div>
  </li>



  
</ul>




</div>

</div>





<!-- boton de dias atras -->

<button id="dropdownRadioButton" data-dropdown-toggle="dropdownRadio" class="  w-48  ml-4 inline-flex items-center text-gray-500 bg-white border border-gray-300 focus:outline-none hover:bg-gray-100 focus:ring-4 focus:ring-gray-200 font-medium rounded-lg text-sm px-4 py-2.5 dark:bg-gray-800 dark:text-white dark:border-gray-600 dark:hover:bg-gray-700 dark:hover:border-gray-600 dark:focus:ring-gray-700" type="button">
<svg class="w-3 h-3 text-gray-500 dark:text-gray-400 me-3" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 20 20">
        <path d="M10 0a10 10 0 1 0 10 10A10.011 10.011 0 0 0 10 0Zm3.982 13.982a1 1 0 0 1-1.414 0l-3.274-3.274A1.012 1.012 0 0 1 9 10V6a1 1 0 0 1 2 0v3.586l2.982 2.982a1 1 0 0 1 0 1.414Z"/>
    </svg>
{{nombreTiempo}}
<svg class="w-2.5 h-2.5 ms-2.5" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 10 6">
    <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m1 1 4 4 4-4"/>
</svg>
</button>


<div id="dropdownRadio" class="z-10   hidden jarto3 w-48 bg-white divide-y divide-gray-100 rounded-lg shadow dark:bg-gray-700 dark:divide-gray-600" data-popper-reference-hidden="" data-popper-escaped="" data-popper-placement="top" >
<ul class="p-3 space-y-1 text-sm text-gray-700 dark:text-gray-200" aria-labelledby="dropdownRadioButton">
    <li *ngFor="let tiempo of tiempos">
        <div class="flex items-center p-2 rounded hover:bg-gray-100 dark:hover:bg-gray-600">
            <input id="{{tiempo.id}}" type="radio" [value]="tiempo.value" [(ngModel)]="selectedTiempo" (ngModelChange)="clickedFiltro()"   name="filter-radio" class="w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 dark:focus:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600">
            <label for="{{tiempo.id}}" class="w-full ms-2 text-sm font-medium text-gray-900 rounded dark:text-gray-300">{{tiempo.descripcion}}</label>
        </div>
    </li>





<!-- empieza aqui -->
<li class="divide-y divide-gray-100">
<button id="dropdownFecha" type="button" class="flex items-center w-full p-2 text-base text-gray-900 transition duration-75 rounded-lg group hover:bg-gray-100 dark:text-white dark:hover:bg-gray-700" aria-controls="dropdown-example" data-collapse-toggle="dropdown-example">
<svg class="w-5 h-5 text-gray-800 dark:text-white" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 20 20">
  <path fill="currentColor" d="M6 1a1 1 0 0 0-2 0h2ZM4 4a1 1 0 0 0 2 0H4Zm7-3a1 1 0 1 0-2 0h2ZM9 4a1 1 0 1 0 2 0H9Zm7-3a1 1 0 1 0-2 0h2Zm-2 3a1 1 0 1 0 2 0h-2ZM1 6a1 1 0 0 0 0 2V6Zm18 2a1 1 0 1 0 0-2v2ZM5 11v-1H4v1h1Zm0 .01H4v1h1v-1Zm.01 0v1h1v-1h-1Zm0-.01h1v-1h-1v1ZM10 11v-1H9v1h1Zm0 .01H9v1h1v-1Zm.01 0v1h1v-1h-1Zm0-.01h1v-1h-1v1ZM10 15v-1H9v1h1Zm0 .01H9v1h1v-1Zm.01 0v1h1v-1h-1Zm0-.01h1v-1h-1v1ZM15 15v-1h-1v1h1Zm0 .01h-1v1h1v-1Zm.01 0v1h1v-1h-1Zm0-.01h1v-1h-1v1ZM15 11v-1h-1v1h1Zm0 .01h-1v1h1v-1Zm.01 0v1h1v-1h-1Zm0-.01h1v-1h-1v1ZM5 15v-1H4v1h1Zm0 .01H4v1h1v-1Zm.01 0v1h1v-1h-1Zm0-.01h1v-1h-1v1ZM2 4h16V2H2v2Zm16 0h2a2 2 0 0 0-2-2v2Zm0 0v14h2V4h-2Zm0 14v2a2 2 0 0 0 2-2h-2Zm0 0H2v2h16v-2ZM2 18H0a2 2 0 0 0 2 2v-2Zm0 0V4H0v14h2ZM2 4V2a2 2 0 0 0-2 2h2Zm2-3v3h2V1H4Zm5 0v3h2V1H9Zm5 0v3h2V1h-2ZM1 8h18V6H1v2Zm3 3v.01h2V11H4Zm1 1.01h.01v-2H5v2Zm1.01-1V11h-2v.01h2Zm-1-1.01H5v2h.01v-2ZM9 11v.01h2V11H9Zm1 1.01h.01v-2H10v2Zm1.01-1V11h-2v.01h2Zm-1-1.01H10v2h.01v-2ZM9 15v.01h2V15H9Zm1 1.01h.01v-2H10v2Zm1.01-1V15h-2v.01h2Zm-1-1.01H10v2h.01v-2ZM14 15v.01h2V15h-2Zm1 1.01h.01v-2H15v2Zm1.01-1V15h-2v.01h2Zm-1-1.01H15v2h.01v-2ZM14 11v.01h2V11h-2Zm1 1.01h.01v-2H15v2Zm1.01-1V11h-2v.01h2Zm-1-1.01H15v2h.01v-2ZM4 15v.01h2V15H4Zm1 1.01h.01v-2H5v2Zm1.01-1V15h-2v.01h2Zm-1-1.01H5v2h.01v-2Z"/>
</svg>
    <span class="flex-1 ms-3 text-left rtl:text-right whitespace-nowrap ">Entre-fechas</span>
    <svg class="w-3 h-3" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 10 6">
       <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m1 1 4 4 4-4"/>
    </svg>
</button>
<ul id="dropdown-example" class="hidden py-2 space-y-2 ">
    <li>
      <div>
        <label
          for="fechaIni"
          class="block mb-2 text-sm font-medium text-gray-900 dark:text-white text-left"
          >Fecha inicio:</label
        >
        <input
          id="fechaIni"
          name="fechaIni"
          type="date"
          class="bg-gray-200 border border-gray-500 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"
          [(ngModel)]="fechaIni"
        />
      </div>


    </li>
    <li>
      <div>
        <label
          for="fechaFin"
          class="block mb-2 text-sm font-medium text-gray-900 dark:text-white text-left"
          >Fecha final:</label
        >
        <input
          id="fechaFin"
          name="fechaFin"
          type="date"
          class="bg-gray-200 border border-gray-500 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"
          [(ngModel)]="fechaFin" 

        />
      </div>

    </li>
    <label for="" *ngIf="msgFechaMayor" class="text-red-700">Las fecha de inicio no puede ser mayor que la final. </label>
    <label for="" *ngIf="msgFechaVacia" class="text-red-700">Debe seleccionar las dos fechas </label>
<li>
    <button (click)="filtrosFechas()"   class="text-center  w-full  text-white bg-green-700 hover:bg-green-800 focus:ring-4 focus:ring-green-300 font-medium rounded-lg text-sm px-5 py-2.5 mr-2 mb-2 dark:bg-green-600 dark:hover:bg-green-700 dark:focus:ring-green-800" 
    type="button" >Buscar</button>
  </li>
    
</ul>

</li>
    
  
</ul>

 
  





</div>

<div>

  <div class="flex items-center">
    <div class="relative w-full ml-4">
      <div
        class="absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none"
      >
        <svg
          aria-hidden="true"
          class="w-5 h-5 text-gray-500 dark:text-gray-400"
          fill="currentColor"
          viewBox="0 0 20 20"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            fill-rule="evenodd"
            d="M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z"
            clip-rule="evenodd"
          ></path>
        </svg>
      </div>
      <input
        type="text"
        id="placa"
        class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full pl-10 p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"
        placeholder="Buscar por placa o ficha"
        [(ngModel)]="buscadorPlaca"
      />
    </div>
    <button
      type="button"
      class="p-2.5 ml-2 text-sm font-medium text-white bg-blue-700 rounded-lg border border-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800"
  (click)="filtroPlaca()"
      >
      <svg
        class="w-5 h-5"
        fill="none"
        stroke="currentColor"
        viewBox="0 0 24 24"
        xmlns="http://www.w3.org/2000/svg"
      >
        <path
          stroke-linecap="round"
          stroke-linejoin="round"
          stroke-width="2"
          d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"
        ></path>
      </svg>
    </button>
   

  </div>
  <div
  class="p-4  text-sm mt-2 absolute z-10 text-red-800 rounded-lg bg-red-50 dark:bg-gray-800 dark:text-red-400"
  role="alert"
  *ngIf="msgBuscadorPlacaVacio"
>
  <span class="font-medium">Atencion!</span> Por favor llene el campo.
</div> 

<div
class="p-4  text-sm mt-2 absolute z-10 text-red-800 rounded-lg bg-red-50 dark:bg-gray-800 dark:text-red-400"
role="alert"
*ngIf="msgFechaMayorP"
>
<span class="font-medium">Atencion!</span> La fecha de inicio no puede ser mayor a la final.
</div> 



</div>
<button  (click)="exportToExcel()" 
type="button" class="focus:outline-none ml-40 
text-white bg-green-700 hover:bg-green-800 focus:ring-4
 focus:ring-green-300 font-medium rounded-lg text-sm px-5 py-2.5 me-2 mb-2
  dark:bg-green-600 dark:hover:bg-green-700 dark:focus:ring-green-800">Exportar Excel</button>

</div>





<div class="tabla table-responsive " id="report">
<div class="flex justify-around mt-1 mb-3 relative">
<div class="logo_container">
  <img src="/assets/logo.jpg" alt="">
</div>
<div class="my-auto">
<label class="text-center  text-xl font-medium font-style: 'Roboto', sans-serif;">REPORTE CONTROL DE COMBUSTIBLE</label>
</div>

<div class="text-lg my-auto" >
<div>
  <label class="font-medium" >Fecha:</label><label  class="text-base ml-1"> {{fecha}}</label> 

</div>
<div>
  <label class="font-medium" >Sector/Brigada:</label><label  class="text-base ml-1"> {{nombreBrigada}}</label> 
</div>

<div>
  <label class="font-medium" >Periodo:</label> <label  class="text-base ml-1"> {{nombreTiempo}}</label>
  <p></p>
</div>


</div>
</div>

<table #table class="table" >


<thead>
<tr>
  <th scope="col" class="text-center">Id</th>
  <th scope="col" class="text-center">Fecha</th>
  <th scope="col" class="text-center">Descripcion</th>
  <th scope="col" class="text-center">Ficha</th>
  <th scope="col" class="text-center">Placa</th>
  <th scope="col" class="text-center">Id sector</th>
  <th scope="col" class="text-center">Consumo estimado</th>
  <th scope="col" class="text-center">Descripcion combustible</th>
  <th scope="col" class="text-center">Precio combustible</th>
  <th scope="col" class="text-center">Galones Combustible</th>
  <th scope="col" class="text-center">Costo total</th>
  <th scope="col" class="text-center">Kilometraje recorrido</th>
  <th scope="col" class="text-center">Odometro inicial</th>
  <th scope="col" class="text-center">Odometro final</th>
  <th scope="col" class="text-center">Nombre chofer</th>
  <th scope="col" class="text-center">Id Usuario</th>

</tr>
</thead>
<tbody class="table-group-divider">
<tr  *ngFor="let item of todoReporte">
  <th scope="row" class="text-center">{{item.id_control}}</th>
  <td scope="row" class="text-center">{{formatDate(item.fecha)}}</td>
  <td scope="row" class="text-center">{{item.descripcion}}</td>
  <td scope="row" class="text-center">{{item.ficha_vehiculo}}</td>
  <td scope="row" class="text-center">{{item.placa}}</td>
  <td scope="row" class="text-center">{{item.id_sector}}</td>
  <td scope="row" class="text-center">{{item.consumo_vehiculo}}KM/GL</td>
  <td scope="row" class="text-center">{{item.nombre_comb}}</td>
  <td scope="row" class="text-center">${{item.precio_combustible}}</td>
  <td scope="row" class="text-center">{{item.combustible}}</td>
  <td scope="row" class="text-center">${{item.precio_galon}}</td>
  <td scope="row" class="text-center">{{item.kilometraje_rec}}</td>
  <td scope="row" class="text-center">{{item.kilometraje}}</td>
  <td scope="row" class="text-center">{{item.kilometraje_act}}</td>
  <td scope="row" class="text-center">{{item.nombre_chofer}}</td>
  <td scope="row" class="text-center">{{item.id_usuario}}</td>
</tr>

</tbody>

<tfoot>
<tr>
  <td colspan="3" class="text-center"><strong>Total:</strong></td>
  <td class="text-center"></td>
  <td class="text-center"></td>
  <td class="text-center"></td>
  <td class="text-center"></td>
  <td class="text-center"></td>
  <td class="text-center"></td>
  <td class="text-center"><strong>{{totalGalones}}</strong></td>
  <td class="text-center"><strong>${{precio_galon}}</strong></td>
  <td class="text-center"><strong>{{kilometraje_rec}}</strong></td> 
  <td class="text-center "> <strong>{{totalKilometrajeIni}}</strong></td> 
  <td class="text-center"><strong>{{totalKilometrajeAct}}</strong></td> 

</tr>
</tfoot>
</table>




</div>

</div>